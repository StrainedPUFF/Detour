{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from'react';import FetchSessionData from'./FetchSessionData';// Adjust the path if needed\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SessionContext=/*#__PURE__*/createContext();export const SessionProvider=_ref=>{let{children}=_ref;const[sessionData,setSessionData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const handleSessionData=data=>{setSessionData({sessionId:data.id,documentUrl:data.document,quiz_id:data.quiz_id,userRole:data.host===data.current_user?\"host\":\"observer\"// Compare dynamically\n});setLoading(false);// Set loading to false once data is received\n};const handleError=error=>{setError(error);setLoading(false);// Set loading to false on error\n};useEffect(()=>{// You can also handle cleanup or additional logic here if needed\n},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(FetchSessionData,{onSessionData:handleSessionData,onError:handleError}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading session...\"}),error&&/*#__PURE__*/_jsxs(\"p\",{style:{color:'red'},children:[\"Error: \",error.message]}),sessionData&&/*#__PURE__*/_jsx(SessionContext.Provider,{value:sessionData,children:children})]});};// Hook to access the SessionContext\nexport const useSession=()=>useContext(SessionContext);","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","FetchSessionData","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SessionContext","SessionProvider","_ref","children","sessionData","setSessionData","loading","setLoading","error","setError","handleSessionData","data","sessionId","id","documentUrl","document","quiz_id","userRole","host","current_user","handleError","onSessionData","onError","style","color","message","Provider","value","useSession"],"sources":["C:/Users/wesle/OneDrive/Documents/VLCS/myProject/VirtualLCS/frontend/src/SessionContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport FetchSessionData from './FetchSessionData'; // Adjust the path if needed\r\n\r\nconst SessionContext = createContext();\r\n\r\nexport const SessionProvider = ({ children }) => {\r\n  const [sessionData, setSessionData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleSessionData = (data) => {\r\n    setSessionData({\r\n      sessionId: data.id,\r\n      documentUrl: data.document,\r\n      quiz_id: data.quiz_id,\r\n      userRole: data.host === data.current_user ? \"host\" : \"observer\", // Compare dynamically\r\n    });\r\n    setLoading(false); // Set loading to false once data is received\r\n  };\r\n\r\n  const handleError = (error) => {\r\n    setError(error);\r\n    setLoading(false); // Set loading to false on error\r\n  };\r\n\r\n  useEffect(() => {\r\n    // You can also handle cleanup or additional logic here if needed\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <FetchSessionData onSessionData={handleSessionData} onError={handleError} />\r\n      {loading && <p>Loading session...</p>}\r\n      {error && <p style={{ color: 'red' }}>Error: {error.message}</p>}\r\n      {sessionData && (\r\n        <SessionContext.Provider value={sessionData}>\r\n          {children}\r\n        </SessionContext.Provider>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\n// Hook to access the SessionContext\r\nexport const useSession = () => useContext(SessionContext);"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC7E,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEnD,KAAM,CAAAC,cAAc,cAAGX,aAAa,CAAC,CAAC,CAEtC,MAAO,MAAM,CAAAY,eAAe,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC1C,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACiB,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAmB,iBAAiB,CAAIC,IAAI,EAAK,CAClCN,cAAc,CAAC,CACbO,SAAS,CAAED,IAAI,CAACE,EAAE,CAClBC,WAAW,CAAEH,IAAI,CAACI,QAAQ,CAC1BC,OAAO,CAAEL,IAAI,CAACK,OAAO,CACrBC,QAAQ,CAAEN,IAAI,CAACO,IAAI,GAAKP,IAAI,CAACQ,YAAY,CAAG,MAAM,CAAG,UAAY;AACnE,CAAC,CAAC,CACFZ,UAAU,CAAC,KAAK,CAAC,CAAE;AACrB,CAAC,CAED,KAAM,CAAAa,WAAW,CAAIZ,KAAK,EAAK,CAC7BC,QAAQ,CAACD,KAAK,CAAC,CACfD,UAAU,CAAC,KAAK,CAAC,CAAE;AACrB,CAAC,CAEDf,SAAS,CAAC,IAAM,CACd;AAAA,CACD,CAAE,EAAE,CAAC,CAEN,mBACEK,KAAA,CAAAE,SAAA,EAAAI,QAAA,eACER,IAAA,CAACF,gBAAgB,EAAC4B,aAAa,CAAEX,iBAAkB,CAACY,OAAO,CAAEF,WAAY,CAAE,CAAC,CAC3Ed,OAAO,eAAIX,IAAA,MAAAQ,QAAA,CAAG,oBAAkB,CAAG,CAAC,CACpCK,KAAK,eAAIX,KAAA,MAAG0B,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAArB,QAAA,EAAC,SAAO,CAACK,KAAK,CAACiB,OAAO,EAAI,CAAC,CAC/DrB,WAAW,eACVT,IAAA,CAACK,cAAc,CAAC0B,QAAQ,EAACC,KAAK,CAAEvB,WAAY,CAAAD,QAAA,CACzCA,QAAQ,CACc,CAC1B,EACD,CAAC,CAEP,CAAC,CAED;AACA,MAAO,MAAM,CAAAyB,UAAU,CAAGA,CAAA,GAAMtC,UAAU,CAACU,cAAc,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}