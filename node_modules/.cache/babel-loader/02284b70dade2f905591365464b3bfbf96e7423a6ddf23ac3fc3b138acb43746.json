{"ast":null,"code":"import React,{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const FetchSessionData=_ref=>{let{setSessionId,setDocumentUrl,setError}=_ref;useEffect(()=>{const fetchSessionData=async()=>{try{console.log('Fetching session ID...');const sessionIdResponse=await fetch('/api/get-session-id/');if(!sessionIdResponse.ok)throw new Error('Failed to fetch session ID');const sessionIdData=await sessionIdResponse.json();console.log('Received session ID:',sessionIdData.sessionId);if(!sessionIdData.sessionId){throw new Error('Invalid session ID received from backend');}setSessionId(sessionIdData.sessionId);console.log(`Fetching session data for session ID: ${sessionIdData.sessionId}`);const sessionDataResponse=await fetch(`/api/session-data/${sessionIdData.sessionId}/`);if(!sessionDataResponse.ok)throw new Error('Failed to fetch session data');const sessionData=await sessionDataResponse.json();setDocumentUrl(sessionData.documentUrl);}catch(error){console.error('Error fetching session data:',error);setError(error.message);}};fetchSessionData();},[setSessionId,setDocumentUrl,setError]);return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});};export default FetchSessionData;","map":{"version":3,"names":["React","useEffect","jsx","_jsx","FetchSessionData","_ref","setSessionId","setDocumentUrl","setError","fetchSessionData","console","log","sessionIdResponse","fetch","ok","Error","sessionIdData","json","sessionId","sessionDataResponse","sessionData","documentUrl","error","message","children"],"sources":["C:/Users/wesle/OneDrive/Documents/VLCS/myProject/VirtualLCS/frontend/src/FetchSessionData.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\n\r\nconst FetchSessionData = ({ setSessionId, setDocumentUrl, setError }) => {\r\n  useEffect(() => {\r\n    const fetchSessionData = async () => {\r\n      try {\r\n        console.log('Fetching session ID...');\r\n        const sessionIdResponse = await fetch('/api/get-session-id/');\r\n        if (!sessionIdResponse.ok) throw new Error('Failed to fetch session ID');\r\n        const sessionIdData = await sessionIdResponse.json();\r\n\r\n        console.log('Received session ID:', sessionIdData.sessionId);\r\n\r\n        if (!sessionIdData.sessionId) {\r\n          throw new Error('Invalid session ID received from backend');\r\n        }\r\n        setSessionId(sessionIdData.sessionId);\r\n\r\n        console.log(`Fetching session data for session ID: ${sessionIdData.sessionId}`);\r\n        const sessionDataResponse = await fetch(`/api/session-data/${sessionIdData.sessionId}/`);\r\n        if (!sessionDataResponse.ok) throw new Error('Failed to fetch session data');\r\n        const sessionData = await sessionDataResponse.json();\r\n        setDocumentUrl(sessionData.documentUrl);\r\n      } catch (error) {\r\n        console.error('Error fetching session data:', error);\r\n        setError(error.message);\r\n      }\r\n    };\r\n\r\n    fetchSessionData();\r\n  }, [setSessionId, setDocumentUrl, setError]);\r\n\r\n  return <div>Loading...</div>;\r\n};\r\n\r\nexport default FetchSessionData;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzC,KAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAAgD,IAA/C,CAAEC,YAAY,CAAEC,cAAc,CAAEC,QAAS,CAAC,CAAAH,IAAA,CAClEJ,SAAS,CAAC,IAAM,CACd,KAAM,CAAAQ,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACFC,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC,CACrC,KAAM,CAAAC,iBAAiB,CAAG,KAAM,CAAAC,KAAK,CAAC,sBAAsB,CAAC,CAC7D,GAAI,CAACD,iBAAiB,CAACE,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,4BAA4B,CAAC,CACxE,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAAJ,iBAAiB,CAACK,IAAI,CAAC,CAAC,CAEpDP,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEK,aAAa,CAACE,SAAS,CAAC,CAE5D,GAAI,CAACF,aAAa,CAACE,SAAS,CAAE,CAC5B,KAAM,IAAI,CAAAH,KAAK,CAAC,0CAA0C,CAAC,CAC7D,CACAT,YAAY,CAACU,aAAa,CAACE,SAAS,CAAC,CAErCR,OAAO,CAACC,GAAG,CAAC,yCAAyCK,aAAa,CAACE,SAAS,EAAE,CAAC,CAC/E,KAAM,CAAAC,mBAAmB,CAAG,KAAM,CAAAN,KAAK,CAAC,qBAAqBG,aAAa,CAACE,SAAS,GAAG,CAAC,CACxF,GAAI,CAACC,mBAAmB,CAACL,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,8BAA8B,CAAC,CAC5E,KAAM,CAAAK,WAAW,CAAG,KAAM,CAAAD,mBAAmB,CAACF,IAAI,CAAC,CAAC,CACpDV,cAAc,CAACa,WAAW,CAACC,WAAW,CAAC,CACzC,CAAE,MAAOC,KAAK,CAAE,CACdZ,OAAO,CAACY,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpDd,QAAQ,CAACc,KAAK,CAACC,OAAO,CAAC,CACzB,CACF,CAAC,CAEDd,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,CAACH,YAAY,CAAEC,cAAc,CAAEC,QAAQ,CAAC,CAAC,CAE5C,mBAAOL,IAAA,QAAAqB,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAAC,CAED,cAAe,CAAApB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}